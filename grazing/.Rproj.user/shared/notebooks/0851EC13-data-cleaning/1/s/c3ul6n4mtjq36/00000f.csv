"0","###### CLEAN GRAZING DATA ######"
"0","# Filter out AGB's in progress video"
"0","AGB.df.v2 <- AGB.df %>%"
"0","  filter(!(Site == ""Salomon_Seaward"" & GoPro == ""I""))"
"0","dim(AGB.df) # [1] 8062   14"
"1","[1]"
"1"," 8062"
"1","   14"
"1","
"
"0","dim(AGB.df.v2) #  6934   14"
"1","[1]"
"1"," 6934"
"1","   14"
"1","
"
"0","# Combine all the dataframes together"
"0","grazing <- rbind(AGB.df.v2, CMT.df, GZD.df, MCC.df)"
"0",""
"0","# Change to factors"
"0","grazing$Family <- as.factor(grazing$Fish.Family)"
"0","grazing$Site <- as.factor(grazing$Site)"
"0","grazing$Fish.ID <- as.factor(grazing$Fish.ID)"
"0",""
"0","# Remove unwanted columns"
"0","drop <- names(grazing) %in% c(""Date.analyzed"", ""Fish.description"",""Position"",""Notes"","
"0","                           ""Highlighting.reference"")"
"0","quadrat.grazing <- grazing[,!drop]"
"0",""
"0","# Rename column headers"
"0","quadrat.grazing <- quadrat.grazing %>% "
"0","  dplyr::rename(Type = Fish.Family) %>%"
"0","  dplyr::rename(Species = Fish.ID)"
"0",""
"0","#Rename w/ Latin names"
"0","unique(quadrat.grazing$Type)"
"1"," [1]"
"1"," ""surgeon""         "
"1"," ""angel""           "
"1"," ""wrasse""          "
"1"," ""goat""            "
"1"," ""butterfly""       "
"1","
"
"1"," [6]"
"1"," ""trigger""         "
"1"," ""parrot""          "
"1"," ""file""            "
"1"," ""goby""            "
"1"," ""zanclidae""       "
"1","
"
"1","[11]"
"1"," ""damsel""          "
"1"," ""unicorn""         "
"1"," ""grouper""         "
"1"," ""box""             "
"1"," ""zanclide""        "
"1","
"
"1","[16]"
"1"," ""rabbit""          "
"1"," """"                "
"1"," ""blennie""         "
"1"," "" wrasse""         "
"1"," ""hawkfish""        "
"1","
"
"1","[21]"
"1"," ""moorish idol""    "
"1"," ""surgeon??""       "
"1"," ""boxfish?""        "
"1"," ""parrot or wrasse"""
"1"," ""wrasse?""         "
"1","
"
"1","[26]"
"1"," ""?""               "
"1","
"
"0","quadrat.grazing[,""Family.Latin""] <- NA # make a new column"
"0","quadrat.grazing$Family.Latin <- quadrat.grazing$Type"
"0",""
"0","unique(quadrat.grazing$Type) "
"1"," [1]"
"1"," ""surgeon""         "
"1"," ""angel""           "
"1"," ""wrasse""          "
"1"," ""goat""            "
"1"," ""butterfly""       "
"1","
"
"1"," [6]"
"1"," ""trigger""         "
"1"," ""parrot""          "
"1"," ""file""            "
"1"," ""goby""            "
"1"," ""zanclidae""       "
"1","
"
"1","[11]"
"1"," ""damsel""          "
"1"," ""unicorn""         "
"1"," ""grouper""         "
"1"," ""box""             "
"1"," ""zanclide""        "
"1","
"
"1","[16]"
"1"," ""rabbit""          "
"1"," """"                "
"1"," ""blennie""         "
"1"," "" wrasse""         "
"1"," ""hawkfish""        "
"1","
"
"1","[21]"
"1"," ""moorish idol""    "
"1"," ""surgeon??""       "
"1"," ""boxfish?""        "
"1"," ""parrot or wrasse"""
"1"," ""wrasse?""         "
"1","
"
"1","[26]"
"1"," ""?""               "
"1","
"
"0","quadrat.grazing$Family.Latin <- dplyr::recode(quadrat.grazing$Family.Latin, "
"0","                                              ""trigger"" = ""Balistidae"", "
"0","                                              ""wrasse"" = ""Labridae"","
"0","                                              ""file"" = ""Monacanthidae"", "
"0","                                              ""goat"" = ""Mullidae"", "
"0","                                              ""grouper"" = ""Serranidae"","
"0","                                              ""box"" = ""Ostraciidae"", "
"0","                                              ""angel"" = ""Pomacanthidae"", "
"0","                                              ""butterfly"" = ""Chaetodontidae"", "
"0","                                              ""damsel"" = ""Pomacentridae"","
"0","                                              ""zanclidae"" = ""Zanclidae"", "
"0","                                              ""parrot"" = ""Scaridae"", "
"0","                                              ""parrotfish"" = ""Scaridae"","
"0","                                              ""surgeon"" = ""Acanthuridae"", "
"0","                                              ""unicorn"" = ""Acanthuridae"","
"0","                                              ""goby"" = ""Gobiidae"","
"0","                                              ""rabbit""= ""Siganidae"","
"0","                                              ""gotat""= ""Mullidae"","
"0","                                              ""zanclide""= ""Zanclidae"")"
"0",""
"0","unique(quadrat.grazing$Family.Latin) # one bite by a ""?"" species, one bite by a surgeon??, "
"1"," [1]"
"1"," ""Acanthuridae""    "
"1"," ""Pomacanthidae""   "
"1"," ""Labridae""        "
"1"," ""Mullidae""        "
"1"," ""Chaetodontidae""  "
"1","
"
"1"," [6]"
"1"," ""Balistidae""      "
"1"," ""Scaridae""        "
"1"," ""Monacanthidae""   "
"1"," ""Gobiidae""        "
"1"," ""Zanclidae""       "
"1","
"
"1","[11]"
"1"," ""Pomacentridae""   "
"1"," ""Serranidae""      "
"1"," ""Ostraciidae""     "
"1"," ""Siganidae""       "
"1"," """"                "
"1","
"
"1","[16]"
"1"," ""blennie""         "
"1"," "" wrasse""         "
"1"," ""hawkfish""        "
"1"," ""moorish idol""    "
"1"," ""surgeon??""       "
"1","
"
"1","[21]"
"1"," ""boxfish?""        "
"1"," ""parrot or wrasse"""
"1"," ""wrasse?""         "
"1"," ""?""               "
"1","
"
"0","# which bites don't have family.latin"
"0","check <- quadrat.grazing %>%"
"0","  filter(Family.Latin == """")"
"0","# NOTE: mica is going back to check if any of these are herbivores, come back and check this all again, fixed!!!"
"0","# only ceyennas no bite video chunk"
"0",""
"0","View(quadrat.grazing)"
"0",""
"0",""
"0",""
"0",""
"0",""
"0","######## COMBINE GRAZING WITH METADATA #######"
"0","# Make sure the site names are the same"
"0","unique(quadrat.grazing$Site)"
"1"," [1]"
"1"," Il de Rats         "
"1"," Il Lubine          "
"1"," IlAnglaise_Seaward "
"1"," IlePoule_Seaward   "
"1","
"
"1"," [5]"
"1"," Middle Brother     "
"1"," Il Poule Seaward   "
"1"," Il Anglaise Seaward"
"1"," Il de rats         "
"1","
"
"1"," [9]"
"1"," Nelson             "
"1"," Il Anglaise Lagoon "
"1","
"
"1","10 "
"1",""
"1","Levels: "
"1",""
"1","Il Anglaise Lagoon Il Anglaise Seaward Il de rats Il de Rats ... Nelson"
"1",""
"1","
"
"0","unique(field.data$Site)"
"1","[1]"
"1"," ""Il Poule Seaward""   "
"1"," ""Il Anglaise Seaward"""
"1"," ""Il Anglaise Lagoon"" "
"1"," ""Nelson""             "
"1","
"
"1","[5]"
"1"," ""Middle Brother""     "
"1"," ""Il Lubine""          "
"1"," ""Il de rats""         "
"1","
"
"0","# nope"
"0",""
"0","quadrat.grazing$Site <- dplyr::recode(quadrat.grazing$Site, "
"0","                ""Il de Rats""= ""Il de rats"","
"0","                ""IlAnglaise_Seaward""= ""Il Anglaise Seaward"","
"0","                ""IlePoule_Seaward"" = ""Il Poule Seaward"","
"0","                ""Salomon_Seaward"" = ""Il Anglaise Seaward"")"
"0",""
"0",""
"0","#Create Site.GoPro column for both dfs"
"0","field.data[,""Site.GoPro""] <- NA"
"0","field.data$Site.GoPro <- paste(field.data$Site, field.data$GoPro, sep=""."")"
"0","quadrat.grazing[,""Site.GoPro""] <- NA"
"0","quadrat.grazing$Site.GoPro <- paste(quadrat.grazing$Site, quadrat.grazing$GoPro, sep=""."")"
"0",""
"0",""
"0","#Filter out the column we want"
"0","filter <- field.data %>%"
"0","  select(Site.GoPro, Video_length, Atoll)"
"0",""
"0","#Join field data and grazing"
"0","field.quadrat.grazing <- left_join(quadrat.grazing, filter, by = c(""Site.GoPro""))"
"0",""
"0","unique(field.quadrat.grazing$Site.GoPro) # 35 gopros!"
"1"," [1]"
"1"," ""Il de rats.B""         "
"1"," ""Il de rats.E""         "
"1"," ""Il Lubine.H""          "
"1"," ""Il Anglaise Seaward.A"""
"1","
"
"1"," [5]"
"1"," ""Il Poule Seaward.D""   "
"1"," ""Middle Brother.H""     "
"1"," ""Il Poule Seaward.G""   "
"1"," ""Il Anglaise Seaward.B"""
"1","
"
"1"," [9]"
"1"," ""Middle Brother.E""     "
"1"," ""Il Lubine.A""          "
"1"," ""Il de rats.H""         "
"1"," ""Nelson.B""             "
"1","
"
"1","[13]"
"1"," ""Il Anglaise Lagoon.A"" "
"1"," ""Il Anglaise Lagoon.D"" "
"1"," ""Il Anglaise Seaward.E"""
"1"," ""Middle Brother.G""     "
"1","
"
"1","[17]"
"1"," ""Il Lubine.E""          "
"1"," ""Il de rats.I""         "
"1"," ""Nelson.D""             "
"1"," ""Il Anglaise Lagoon.B"" "
"1","
"
"1","[21]"
"1"," ""Middle Brother.A""     "
"1"," ""Nelson.E""             "
"1"," ""Il Lubine.B""          "
"1"," ""Il de rats.A""         "
"1","
"
"1","[25]"
"1"," ""Il Poule Seaward.I""   "
"1"," ""Il Poule Seaward.A""   "
"1"," ""Il Anglaise Lagoon.H"" "
"1"," ""Middle Brother.I""     "
"1","
"
"1","[29]"
"1"," ""Nelson.A""             "
"1"," ""Il Anglaise Seaward.I"""
"1"," ""Il Lubine.I""          "
"1"," ""Il Anglaise Lagoon.E"" "
"1","
"
"1","[33]"
"1"," ""Nelson.G""             "
"1"," ""Il Poule Seaward.B""   "
"1"," ""Il Anglaise Seaward.H"""
"1","
"
"0","###### HERBIVORES ##########"
"0","unique(field.quadrat.grazing$Family.Latin)"
"1"," [1]"
"1"," ""Acanthuridae""    "
"1"," ""Pomacanthidae""   "
"1"," ""Labridae""        "
"1"," ""Mullidae""        "
"1"," ""Chaetodontidae""  "
"1","
"
"1"," [6]"
"1"," ""Balistidae""      "
"1"," ""Scaridae""        "
"1"," ""Monacanthidae""   "
"1"," ""Gobiidae""        "
"1"," ""Zanclidae""       "
"1","
"
"1","[11]"
"1"," ""Pomacentridae""   "
"1"," ""Serranidae""      "
"1"," ""Ostraciidae""     "
"1"," ""Siganidae""       "
"1"," """"                "
"1","
"
"1","[16]"
"1"," ""blennie""         "
"1"," "" wrasse""         "
"1"," ""hawkfish""        "
"1"," ""moorish idol""    "
"1"," ""surgeon??""       "
"1","
"
"1","[21]"
"1"," ""boxfish?""        "
"1"," ""parrot or wrasse"""
"1"," ""wrasse?""         "
"1"," ""?""               "
"1","
"
"0","herbivores <- field.quadrat.grazing %>%"
"0","  filter(Family.Latin %in% c(""Acanthuridae"", ""Scaridae"", ""Siganidae""))"
"0","# Only a few bites for siganidae"
"0","# there are still a few questionable bites"
"0",""
"0","unique(herbivores$Family.Latin)"
"1","[1]"
"1"," ""Acanthuridae"""
"1"," ""Scaridae""    "
"1"," ""Siganidae""   "
"1","
"
"0","unique(herbivores$Site.GoPro)"
"1"," [1]"
"1"," ""Il de rats.B""         "
"1"," ""Il de rats.E""         "
"1"," ""Il Lubine.H""          "
"1"," ""Il Anglaise Seaward.A"""
"1","
"
"1"," [5]"
"1"," ""Il Poule Seaward.D""   "
"1"," ""Middle Brother.H""     "
"1"," ""Il Poule Seaward.G""   "
"1"," ""Il Anglaise Seaward.B"""
"1","
"
"1"," [9]"
"1"," ""Middle Brother.E""     "
"1"," ""Il Lubine.A""          "
"1"," ""Il de rats.H""         "
"1"," ""Nelson.B""             "
"1","
"
"1","[13]"
"1"," ""Il Anglaise Seaward.E"""
"1"," ""Middle Brother.G""     "
"1"," ""Il Lubine.E""          "
"1"," ""Il de rats.I""         "
"1","
"
"1","[17]"
"1"," ""Nelson.D""             "
"1"," ""Il Anglaise Lagoon.B"" "
"1"," ""Middle Brother.A""     "
"1"," ""Nelson.E""             "
"1","
"
"1","[21]"
"1"," ""Il Lubine.B""          "
"1"," ""Il de rats.A""         "
"1"," ""Il Poule Seaward.I""   "
"1"," ""Il Poule Seaward.A""   "
"1","
"
"1","[25]"
"1"," ""Middle Brother.I""     "
"1"," ""Nelson.A""             "
"1"," ""Il Anglaise Seaward.I"""
"1"," ""Il Lubine.I""          "
"1","
"
"1","[29]"
"1"," ""Il Anglaise Lagoon.E"" "
"1"," ""Nelson.G""             "
"1"," ""Il Poule Seaward.B""   "
"1"," ""Il Anglaise Seaward.H"""
"1","
"
"0","# three of the videos from the lagoon have no herbivores biting at all, only have 32 vidoes currently"
"0",""
"0",""
"0","# Filter out corallivores just to look at"
"0","corallivores <- field.quadrat.grazing %>%"
"0","  filter(Family.Latin %in% c(""Chaetodontidae""))"
"0",""
"0","unique(corallivores$Site.GoPro) # only 27 gopros have butterfly fish that took bites"
"1"," [1]"
"1"," ""Il de rats.B""         "
"1"," ""Il de rats.E""         "
"1"," ""Il Anglaise Seaward.A"""
"1"," ""Il Poule Seaward.D""   "
"1","
"
"1"," [5]"
"1"," ""Middle Brother.H""     "
"1"," ""Il Poule Seaward.G""   "
"1"," ""Il Anglaise Seaward.B"""
"1"," ""Middle Brother.E""     "
"1","
"
"1"," [9]"
"1"," ""Nelson.B""             "
"1"," ""Il Anglaise Lagoon.D"" "
"1"," ""Il Anglaise Seaward.E"""
"1"," ""Middle Brother.G""     "
"1","
"
"1","[13]"
"1"," ""Il de rats.I""         "
"1"," ""Nelson.D""             "
"1"," ""Il Anglaise Lagoon.B"" "
"1"," ""Middle Brother.A""     "
"1","
"
"1","[17]"
"1"," ""Nelson.E""             "
"1"," ""Il de rats.A""         "
"1"," ""Il Poule Seaward.I""   "
"1"," ""Il Poule Seaward.A""   "
"1","
"
"1","[21]"
"1"," ""Il Anglaise Lagoon.H"" "
"1"," ""Middle Brother.I""     "
"1"," ""Il Anglaise Seaward.I"""
"1"," ""Il Anglaise Lagoon.E"" "
"1","
"
"1","[25]"
"1"," ""Nelson.G""             "
"1"," ""Il Poule Seaward.B""   "
"1"," ""Il Anglaise Seaward.H"""
"1","
"
"0","# Double check family assignment"
"0","test <- quadrat.grazing %>%"
"0","  group_by(Atoll, Site, Site.GoPro, Family.Latin, Type, Species) %>%"
"0","  count(Family.Latin)"
