"0","# Calculate species richness"
"0","haha <- column_to_rownames(dovs.wide.reef, ""OpCode_transect"")"
"0","haha2 <- (haha)[-c(1:5)]"
"0","richness <- specnumber(haha2)"
"0","range(richness) #  20 47"
"1","[1]"
"1"," 21"
"1"," 48"
"1","
"
"0","# Combine with metadata"
"0","dovs.reef.div <- cbind(haha, richness)"
"0",""
"0","# Plot"
"0","p_richness <- ggplot(dovs.reef.div, "
"0","       aes(x=Atoll, y=richness, colour=Shark_Abundance)) +"
"0","  geom_boxplot(size=1.5) +"
"0","  theme_pubr() +"
"0","  theme(legend.position= ""right"","
"0","        axis.title.y = element_text(size= 20),"
"0","        axis.text.y = element_text(size=16),"
"0","        axis.title.x = element_text(size=20),"
"0","        axis.text.x = element_text(size=12)) +"
"0","  ylab(""Species Richness"") + xlab(""Shark Abundance"") +"
"0","  scale_colour_manual(values=c(""maroon2"",""purple3"",""turquoise3""),"
"0","                    limits=c(""High"",""Medium"", ""Low""))"
"0","p_richness"
