"0","#### Filter out Lagoon Sites ####"
"0","################################"
"0","dovs.wide.reef <- dovs.wide %>%"
"0","  filter(!OpCode_transect %in% c(""BIOT_7097_DOV_6_Salomon_N_20190311.T1"",""BIOT_7097_DOV_6_Salomon_N_20190311.T2"",""BIOT_7097_DOV_6_Salomon_N_20190311.T3"",""BIOT_7097_DOV_6_Salomon_N_20190311.T4"",""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303.T1"",""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303.T2"",""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303.T3"",""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303.T4""))%>% "
"0","  select_if(negate(function(col) is.numeric(col) && sum(col) < 1)) # get rid of any species that don't occur in the dataset"
"0",""
"0",""
"0",""
"0","#### Long Data ####"
"0","dovs.long.reef <- reshape2::melt(dovs.wide.reef, id.vars=c('Year','Atoll', 'Location', ""Site"", ""OpCode_transect"",""OpCode_Site"", ""OpCode"", ""Shark_Abundance"", ""Shark_Sum_Abundance""), value.name= ""Abundance"", variable.name= ""Full.Species.Name"")"
"0",""
"0","# Add family to dovs.long.reef"
"0","dovs.long.reef <- dovs.long.reef %>% mutate(Family= word(dovs.long.reef$Full.Species.Name, 1))"
"0",""
"0","# Reorder"
"0","dovs.long.reef <- dovs.long.reef %>% "
"0","  dplyr::select(OpCode_transect, Year:Site, OpCode,OpCode_Site, Shark_Abundance,"
"0","                Shark_Sum_Abundance, Family, "
"0","                Full.Species.Name, Abundance)"
"0",""
"0","dovs.wide.reef <- dovs.wide.reef %>% "
"0","  dplyr::select(OpCode_transect, Year, Atoll, Location, Site,"
"0","                OpCode, OpCode_Site, Shark_Abundance, Shark_Sum_Abundance,"
"0","                ""Unidentified baitfish"":""Zanclidae Zanclus cornutus"") "
"0",""
"0","# Create a dataset with the lagoonal sites"
"0","dovs.wide # has the lagoonal sites"
