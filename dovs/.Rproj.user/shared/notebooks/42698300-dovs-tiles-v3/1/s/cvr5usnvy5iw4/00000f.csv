"0","#### SPECIES LEVEL #####"
"0","# Filter out tile sites"
"0","unique(dovs.wide$OpCode)"
"1"," [1]"
"1"," ""BIOT_7097_DOV_10_SouthBrother_18May2018""    "
"1","
"
"1"," [2]"
"1"," ""BIOT_7097_DOV_11_SouthBrother_19May2018""    "
"1","
"
"1"," [3]"
"1"," ""BIOT_7097_DOV_3_Middle Brother_2019""        "
"1","
"
"1"," [4]"
"1"," ""BIOT_7097_DOV_1_Egmont_20190317""            "
"1","
"
"1"," [5]"
"1"," ""BIOT_7097_DOV_2_Egmont_20190318""            "
"1","
"
"1"," [6]"
"1"," ""BIOT_7097_DOV_9_Egmont_2018""                "
"1","
"
"1"," [7]"
"1"," ""BIOT_7097_DOV_4_NelsonsIsland_2018""         "
"1","
"
"1"," [8]"
"1"," ""BIOT_7097_DOV_13_PerosBanhos_IlPouleN_2018"" "
"1","
"
"1"," [9]"
"1"," ""BIOT_7097_DOV_14_PerosBanhos_Gabriel_2018""  "
"1","
"
"1","[10]"
"1"," ""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303"""
"1","
"
"1","[11]"
"1"," ""BIOT_7097_DOV_8_PerosBanhos_Middle_2018""    "
"1","
"
"1","[12]"
"1"," ""BIOT_7097_DOV_15_Salomon_S_2018""            "
"1","
"
"1","[13]"
"1"," ""BIOT_7097_DOV_16_Salomon_N_2018""            "
"1","
"
"1","[14]"
"1"," ""BIOT_7097_DOV_5_Salomon_S_20190310""         "
"1","
"
"1","[15]"
"1"," ""BIOT_7097_DOV_6_Salomon_N_20190311""         "
"1","
"
"0","dovs.wide.tiles <- dovs.wide %>%"
"0","  # filter out opcodes only for our eight tile sites "
"0","  filter(OpCode %in% c(""BIOT_7097_DOV_2_Egmont_20190318"","
"0","                                   ""BIOT_7097_DOV_1_Egmont_20190317"","
"0","                                   ""BIOT_7097_DOV_3_Middle Brother_2019"","
"0","                                   ""BIOT_7097_DOV_4_NelsonsIsland_2018"","
"0","                                   ""BIOT_7097_DOV_6_Salomon_N_20190311"","
"0","                                   ""BIOT_7097_DOV_5_Salomon_S_20190310"","
"0","                                   ""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303"","
"0","                                   ""BIOT_7097_DOV_8_PerosBanhos_Middle_2018"")) %>%"
"0","    # make a new column for each our our tiles sites"
"0","  "
"0","  mutate(Tile.Site = ifelse(OpCode == ""BIOT_7097_DOV_2_Egmont_20190318"", ""Il Lubine"","
"0","                            ifelse(OpCode == ""BIOT_7097_DOV_1_Egmont_20190317"", ""Il de rats"","
"0","                                   ifelse(OpCode == ""BIOT_7097_DOV_4_NelsonsIsland_2018"", ""Nelson"","
"0","                                   ifelse(OpCode == ""BIOT_7097_DOV_3_Middle Brother_2019"", ""Middle Brother"","
"0","                                          ifelse(OpCode == ""BIOT_7097_DOV_6_Salomon_N_20190311"", ""Salomon lagoon"","
"0","                                                 ifelse(OpCode == ""BIOT_7097_DOV_5_Salomon_S_20190310"", ""Salomon seaward"","
"0","                                                        ifelse(OpCode == ""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303"", ""Peros Banhos Lagoon"", ""Peros Banhos Seaward"")))))))) %>%"
"0","  relocate(Tile.Site, .after= Site)%>% "
"0","  # get rid of any species that have all zeros"
"0","select_if(~ !is.numeric(.) || sum(.) != 0)"
"0",""
"0","dim(dovs.wide.tiles) # 31 184"
"1","[1]"
"1","  31"
"1"," 184"
"1","
"
"0","# Long Version"
"0","dovs.long.tiles <- dovs.wide.tiles %>%"
"0","  pivot_longer(-c(Atoll:OpCode_transect, Shark_Abundance, Shark_Sum_Abundance), "
"0","               names_to= ""Full.Species.Name"", values_to = ""Count"") %>%"
"0","  # add in family"
"0","  mutate(Family= word(Full.Species.Name, 1)) %>%"
"0","  relocate(Family, .before= Full.Species.Name)"
"0",""
"0",""
"0","save(dovs.wide.tiles, file=""../data/created/dovs.wide.tiles.Rdata"")"
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0",""
"0","#### FAMILY LEVEL #####"
"0","# Family Level Data"
"0","dovs.wide.tiles.family <- dovs.wide.family %>%"
"0","  # filter out opcodes only for our eight tile sites "
"0","  filter(OpCode %in% c(""BIOT_7097_DOV_2_Egmont_20190318"","
"0","                                   ""BIOT_7097_DOV_1_Egmont_20190317"","
"0","                                   ""BIOT_7097_DOV_3_Middle Brother_2019"","
"0","                                   ""BIOT_7097_DOV_4_NelsonsIsland_2018"","
"0","                                   ""BIOT_7097_DOV_6_Salomon_N_20190311"","
"0","                                   ""BIOT_7097_DOV_5_Salomon_S_20190310"","
"0","                                   ""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303"","
"0","                                   ""BIOT_7097_DOV_8_PerosBanhos_Middle_2018"")) %>%"
"0","    # make a new column for each our our tiles sites"
"0","  "
"0","  mutate(Tile.Site = ifelse(OpCode == ""BIOT_7097_DOV_2_Egmont_20190318"", ""Il Lubine"","
"0","                            ifelse(OpCode == ""BIOT_7097_DOV_1_Egmont_20190317"", ""Il de rats"","
"0","                                   ifelse(OpCode == ""BIOT_7097_DOV_4_NelsonsIsland_2018"", ""Nelson"","
"0","                                   ifelse(OpCode == ""BIOT_7097_DOV_3_Middle Brother_2019"", ""Middle Brother"","
"0","                                          ifelse(OpCode == ""BIOT_7097_DOV_6_Salomon_N_20190311"", ""Salomon lagoon"","
"0","                                                 ifelse(OpCode == ""BIOT_7097_DOV_5_Salomon_S_20190310"", ""Salomon seaward"","
"0","                                                        ifelse(OpCode == ""BIOT_7097_DOV_7_PerosBanhos_Lagoon_20190303"", ""Peros Banhos Lagoon"", ""Peros Banhos Seaward"")))))))) %>%"
"0","  relocate(Tile.Site, .after= Site)"
"0",""
"0","dim(dovs.wide.tiles.family) # 31 17"
"1","[1]"
"1"," 31"
"1"," 18"
"1","
"
"0","# Site averages"
"0","fish.site.tiles.average <- dovs.wide.tiles.family %>%"
"0","  group_by(Tile.Site, Atoll) %>%"
"0","  # calculate the mean per tile.site (averaged across teh transects)"
"0","  summarize(Herbivores.avg = mean(Herbivores),"
"0","            Chaetodontidae.avg = mean(Chaetodontidae),"
"0","            Mesopredators.avg = mean(Mesopredators),"
"0","            corallivore.avg = mean(corallivore))"
"2","`summarise()` has grouped output by 'Tile.Site'. You can override using the `.groups` argument."
"0","dim(fish.site.tiles.average) # 8 6"
"1","[1]"
"1"," 8"
"1"," 6"
"1","
"
"0","save(fish.site.tiles.average, file=""../data/created/fish.site.tiles.average.RData"")"
