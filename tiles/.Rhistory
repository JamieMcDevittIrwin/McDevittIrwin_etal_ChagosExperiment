plot(ggemmeans(m2, c("Chaetodontidae.avg")))
plot(ggemmeans(m2, c("Herbivores.avg")))
coralivore.treatment.em <- emmeans(m2, ~ Treatment*Chaetodontidae.avg)
pairs(coralivore.treatment.em) # nothing is significant
# ggemmeans uses eemmeans() to plot
corallivore.treat.df <- as.data.frame(ggemmeans(m2, c("Chaetodontidae.avg", "Treatment")))
herbivore.treat.df <- as.data.frame(ggemmeans(m2, c("Herbivores.avg", "Treatment")))
cca.df <- as.data.frame(ggemmeans(m2, c("CCA")))
turf.df <- as.data.frame(ggemmeans(m2, c("Turf")))
algae.df <- as.data.frame(ggemmeans(m2, c("Macroalgae")))
corallivore.df <- as.data.frame(ggemmeans(m2, c("Chaetodontidae.avg")))
herbivore.df <- as.data.frame(ggemmeans(m2, c("Herbivores.avg")))
# Corallivore X treatment
p_corallivore_treatment <- ggplot(corallivore.treat.df, aes(x, predicted, color = group)) +
geom_line(size=1.5) +
theme_pubr(base_size=16) +
labs(x="Corallivores", y="") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high, fill=group), alpha=0.1, colour=NA)+
scale_colour_hue(h = c(180, 300))+
geom_text(label=".", x=1, y=7, size=16, color= "black")+
ggtitle("b)")
p_corallivore_treatment
# Herbivores X treatment
p_herbivore_treatment <- ggplot(herbivore.treat.df, aes(x, predicted, color = group)) +
geom_line(size=1.5) +
theme_pubr(base_size=16) +
labs(x="Herbivores", y="") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high, fill=group), alpha=0.1, colour=NA)+
scale_colour_hue(h = c(180, 300))+
ggtitle("a)")
p_herbivore_treatment
# Corallivore
p_corallivore <- ggplot(corallivore.df, aes(x, predicted)) +
geom_line(size=1.5) +
theme_pubr(base_size=16) +
labs(x="Corallivores", y="Predicted Coral Recruits") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high), alpha=0.2, colour=NA) +
geom_text(label="*", x=1.2, y=2.5, size=16)+
ggtitle("d)")
p_corallivore
# Herbivores
p_herbivore <- ggplot(herbivore.df, aes(x, predicted)) +
geom_line(size=1.5) +
theme_pubr(base_size=16) +
labs(x="Herbivores", y="") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high), alpha=0.2, colour=NA)+
ggtitle("c)")
p_herbivore
# CCA
p_cca <- ggplot(cca.df, aes(x, predicted)) +
geom_line(size=1.5) +  theme_pubr(base_size=16) +
labs(x="CCA", y="") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high), alpha=0.2, colour=NA)+
ggtitle("e)")
p_cca
# Turf
p_turf <- ggplot(turf.df, aes(x, predicted)) +
geom_line(size=1.5) +  theme_pubr(base_size=16) +
labs(x="Turf", y="") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high), alpha=0.2, colour=NA)+
ggtitle("g)")
p_turf
# Algae
p_algae <- ggplot(algae.df, aes(x, predicted)) +
geom_line(size=1.5) +  theme_pubr(base_size=16) +
labs(x="Macroalgae", y="") +
geom_ribbon(aes(ymin=conf.low, ymax=conf.high), alpha=0.2, colour=NA)+
ggtitle("f)")
p_algae
p_mixed.model <- ggarrange(p_herbivore_treatment, p_corallivore_treatment,
p_herbivore, p_corallivore,
p_cca, p_algae, p_turf, common.legend=TRUE,
nrow=)
p_mixed.model
ggsave(p_mixed.model, file= "../figures/mixed-model-results-ggemmeans.png", width=10, height=10)
summary(m2)
AIC(m1)
summary(m1)
summary(m2)
check_dispersion(m2)
testDispersion(m2)
# Filter out Il Poule Lagoon (because it doesn't have grazing data)
graze.corals.cover <- corals.cover %>%
filter(Site != "Il Poule Lagoon")
# How much of the data is zero?
100*sum(graze.corals.cover$All.Corals == 0)/nrow(graze.corals.cover) # 61.11111
hist(graze.corals.cover$All.Corals) # very zero inflated
# Convert characters to factors
graze.corals.cover$Treatment <- as.factor(graze.corals.cover$Treatment)
graze.corals.cover$Island <- as.factor(graze.corals.cover$Island)
graze.corals.cover$Transect <- as.factor(graze.corals.cover$Transect)
graze.corals.cover$Tile.pair <- as.factor(graze.corals.cover$Tile.pair)
graze.corals.cover$Tile_Treatment <- as.factor(graze.corals.cover$Tile_Treatment)
graze.corals.cover$Site <- as.factor(graze.corals.cover$Site)
m2 <- glmmTMB(All.Corals ~ CCA + Turf + Macroalgae + Treatment*bites.per.min.grazeable.mean + (1|Island) + (1|Tile.pair), zi = ~ 1, data = graze.corals.cover, family = poisson)
AIC(m2) # best (barely)
summary(m2)
testDispersion(m2) # not sig, around 1
# How much of the data is zero?
100*sum(corals.2021_wide$All.Corals == 0)/nrow(corals.2021_wide) # 65.25822
hist(corals.2021_wide$All.Corals) # very zero inflated
# Convert characters to factors
corals.2021_wide$Treatment <- as.factor(corals.2021_wide$Treatment)
corals.2021_wide$Island <- as.factor(corals.2021_wide$Island)
corals.2021_wide$Transect <- as.factor(corals.2021_wide$Transect)
corals.2021_wide$Tile <- as.factor(corals.2021_wide$Tile)
corals.2021_wide$Tile_Treatment <- as.factor(corals.2021_wide$Tile_Treatment)
corals.2021_wide$Site <- as.factor(corals.2021_wide$Site)
m2 <- glmmTMB(All.Corals ~ Treatment + (1|Site) + (1|Tile), zi = ~ 1, data = corals.2021_wide, family = poisson)
summary(m2)
testDispersion(m2) # not sig, close to 1
#### Initial Models ####
m1 <- glmmTMB(Top ~  Treatment + (1|Site) + (1|Tile), zi = ~ 0, data = corals.2021_wide, family = poisson)
testDispersion(m1) # not sig, close to 1
m6 <- glmmTMB(Bottom ~ Treatment+ (1|Site) + (1|Tile), zi = ~ 1, data = corals.2021_wide, family = poisson)
testDispersion(m6) # not sig, close to 1
testDispersion(m5) # not sig, close to 1
# Initial Models
m5 <- glmmTMB(Side ~ Treatment + (1|Tile), zi = ~ 0, data = corals.2021_wide, family = poisson)
testDispersion(m5) # not sig, close to 1
library(tidyverse);library(ggpubr);library(janitor);library(vegan);library(plotrix)
# raw data
data <- read.csv("../data/raw-data/Chagos_November2021_Data_QAQC_Tiles-lab coral_CoralCheck_RRC_Final.xlsx - Chagos_November2021_Data_QAQC_T.csv",stringsAsFactors = FALSE,na.strings=c("","NA"))
# metadata
metadata <- read.csv("../data/raw-data/BIOT_March2019_Data_QAQC-tiles.csv",stringsAsFactors = FALSE,na.strings=c("","NA"))
# Raw Data
View(data)
View(metadata) #221 tiles
# We want to pull out the transect for each tile (all the other columns are filled in from the metadata)
transect <- metadata %>%
mutate(Tile_Treatment = paste(Tag_number, Treatment, sep= ".")) %>%
dplyr::select(Transect, Tile_Treatment)
transect$Transect <- as.character(transect$Transect)
# Clean up the data
corals.2021 <- data %>%
dplyr::select(-c(Treatment_ABC, "Is.it.a.coral.":"Final.Decision",X)) %>% # get rid of silly columns
dplyr::filter(Tube_ID != "81") %>% # get rid of the water sample
mutate(Coral = ifelse(Tube_ID == "None", NA, 1)) %>% # new column to calculate corals
mutate(Tile_position = ifelse(Tile_side. %in%
c("Top?", "Top", "Side/Top", "Top/side", "Side/top"), "Top",
ifelse(Tile_side. %in% c("Bottom?", "Bottom", "Side/Bottom", "Bottom/side", "Side/bottom", "bottom/side", "Bottom (side??)", "Bottom ", "Botttom "), "Bottom",
ifelse(Tile_side. %in% c("Side", "Side/bottom/top", "Side/Top/bottom", "Top/side/bottom"), "Side", "NA")))) %>% # keep these ones for now, but can always change our definition
mutate(Tile_Treatment = paste(Tile, Treatment, sep= ".")) %>%
left_join(transect, by= "Tile_Treatment") %>%
# add in the transect column
dplyr::select(Date, Island, Site, Transect, Tile, Treatment, Tile_Treatment, Tube_ID, Tile_side., Tile_position, Diameter, Coral, Coral_size_bin, Notes) # reorder the columns
corals.2021 %>%
group_by(Treatment) %>%
summarize(Coral.sum = sum(Coral, na.rm= TRUE))
# this is the total number of corals per tile, no matter where they are found on the tile
# Caged	54
# Partial	31
# Uncaged	50
corals.2021 %>%
filter(Tile_side. %in% c("Top?", "Top", "Side/Top", "Top/side", "Side/top")) %>%
group_by(Treatment) %>%
summarize(Coral.sum = sum(Coral, na.rm= TRUE))
# way more corals on the top in caged tiles than uncaged tiles
corals.2021 %>%
filter(Tile_side. %in% c("Bottom?", "Bottom", "Side/Bottom", "Bottom/side", "Side/bottom", "bottom/side", "Bottom (side??)", "Bottom ", "Botttom ")) %>%
group_by(Treatment) %>%
summarize(Coral.sum = sum(Coral, na.rm= TRUE))
# way more corals on the bottom in the uncaged tiles
corals.2021 %>%
filter(Tile_side. %in% c("Side", "Side/bottom/top", "Side/Top/bottom", "Top/side/bottom")) %>%
group_by(Treatment) %>%
summarize(Coral.sum = sum(Coral, na.rm= TRUE))
# simmilar amounts on both the caged and uncaged on the sides
corals.2021 %>%
group_by(Island, Site, Tile, Treatment) %>%
summarize(Coral.sum = sum(Coral, na.rm= TRUE))
corals.2021 %>%
filter(Tile_side. %in% c("Top?", "Top", "Side/Top", "Top/side", "Side/top")) %>%
group_by(Treatment) %>%
summarize(Coral.sum = sum(Coral, na.rm= TRUE))
# Create a wide dataframe
corals.2021_wide <- corals.2021 %>%
pivot_wider(names_from = Tile_position, values_from= Coral, values_fill=0) %>%
dplyr::select(-c(Tube_ID:Notes, "NA")) %>%
group_by(Date, Island,Transect, Site, Tile, Treatment, Tile_Treatment) %>%
summarise_each(funs(sum)) %>% # this adds up each row with the same tile/treatment
filter(Tile_Treatment != "14.Uncaged") %>% # filter out 14 uncaged because it was found flipped and it looked like the bottom and the top were the same in terms of percent cover
mutate(All.Corals = Top + Bottom + Side)
dim(corals.2021_wide)
View(corals.2021_wide)
save(corals.2021_wide, file="../data/created-data/corals.2021_wide.Rdata")
# Create a long dataframe
corals.2021_long <- corals.2021_wide %>%
pivot_longer(-c(Date:Tile_Treatment, All.Corals), names_to= "Tile_position", values_to= "Coral")
View(corals.2021_long)
mean(corals.2021_wide$All.Corals)
# 0.6197183
sd(corals.2021_wide$All.Corals)
# 1.06885
range(corals.2021_wide$All.Corals)
# [1] 0 6
corals.2021_wide %>%
group_by(Treatment) %>%
summarize(sample.size= n())
#
# Caged	92
# Partial	32
# Uncaged	89
corals.2021_wide %>%
group_by(Treatment) %>%
summarize(mean.corals = mean(All.Corals),
sd=sd(All.Corals))
# Caged	0.5760870
# Partial	0.9687500
# Uncaged	0.5393258
corals.2021_wide %>%
group_by(Treatment) %>%
summarize(mean.corals = mean(Top,
sd=sd(Top)))
corals.2021_wide %>%
group_by(Treatment) %>%
summarize(mean.corals = mean(Side,
sd=sd(Side)))
corals.2021_wide %>%
group_by(Treatment) %>%
summarize(mean.corals = mean(Bottom,
sd=sd(Bottom)))
load(file = "../../dovs/data/created/fish.site.tiles.average.RData") # fish.site.tiles.average
load("../../bruvs/data/created/mean.sum.shark.abundance.tiles.RData") # mean.shark.abundance.tiles
load("../../grazing/data/bite.data.RData") # herbivore.bites.site
# Make the names match
test <- corals.2021_wide %>%
mutate(Tile.Site= ifelse(Site == "Il lubine", "Il Lubine",
ifelse(Site == "Il de rats", "Il de rats",
ifelse(Site == "Nelson", "Nelson",
ifelse(Site == "Middle Brother", "Middle Brother",
ifelse(Site == "Il Anglaise Lagoon", "Salomon lagoon",
ifelse(Site == "Il Anglaise Seaward", "Salomon seaward",
ifelse(Site == "Il Poule Lagoon", "Peros Banhos Lagoon", "Peros Banhos Seaward"))))))))
# Make the names match
test2 <- herbivore.bites.site %>%
mutate(Tile.Site= ifelse(Site == "Il Lubine", "Il Lubine",
ifelse(Site == "Il de rats", "Il de rats",
ifelse(Site == "Nelson", "Nelson",
ifelse(Site == "Middle Brother", "Middle Brother",
ifelse(Site == "Il Anglaise Lagoon", "Salomon lagoon",
ifelse(Site == "Il Anglaise Seaward", "Salomon seaward","Peros Banhos Seaward"))))))) %>%
dplyr::select(-c(Site))
# Join shark abundance and fish
consumer.metadata <- fish.site.tiles.average %>%
mutate(Shark_Abundance= ifelse(Atoll %in% "Egmont", "High",
ifelse(Atoll %in% "Salomon", "Medium", "Low"))) %>%
mutate(Shark_Sum_Abundance= ifelse(Atoll %in% "Egmont", 6.9,
ifelse(Atoll %in% "Salomon", 4.8,
ifelse(Atoll %in% "Peros Banhos", 3.8,
ifelse(Atoll %in% "Brothers", 2.9, 3.1)))))
# Join the dataframes
corals.fishes_wide <- left_join(test, consumer.metadata,  by="Tile.Site") %>%
left_join(test2, by="Tile.Site")
save(corals.fishes_wide, file="../data/created-data/corals.fishes_wide.Rdata")
# Create a long dataframe
corals.fishes_long <- corals.fishes_wide %>%
pivot_longer(-c(Date:Tile_Treatment, All.Corals:bites.per.min.mean), names_to= "Tile_position", values_to= "Coral")
meancorals.treatment <- corals.2021_long %>%
group_by(Treatment) %>%
summarise(sum= sum(Coral),
mean=mean(Coral),
se=std.error(Coral))
meancorals.treatment
p_overall <- meancorals.treatment %>% ggplot(aes(x= Treatment, y=mean)) +
geom_bar(position = "dodge", stat='identity')+
geom_errorbar(aes(ymin=mean-se, ymax=mean+se), width=.2,
position=position_dodge(.9)) +
labs(y="Coral abundance (mean +/- se)") +
theme_pubr(base_size= 16) +
theme(legend.position = "right")
p_overall
# Overall
colnames(corals.2021_wide)
meancorals.overall <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(All.Corals),
mean=mean(All.Corals),
se=std.error(All.Corals))
p_corals_overall <- ggplot(meancorals.overall, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("a) Overall")+
scale_colour_hue(h = c(180, 300))
p_corals_overall
# Top
colnames(corals.2021_wide)
meancorals.top <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Top),
mean=mean(Top),
se=std.error(Top))
p_corals_top <- ggplot(meancorals.top, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("b) Top")+
scale_colour_hue(h = c(180, 300)) +
geom_text(label="*", x=3.2, y=0.6, size=10, color="black")
p_corals_top
# Bottom
colnames(corals.2021_wide)
meancorals.bottom <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Bottom),
mean=mean(Bottom),
se=std.error(Bottom))
p_corals_bottom <- ggplot(meancorals.bottom, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("c) Bottom")+
scale_colour_hue(h = c(180, 300)) +
geom_text(label="*", x=3.2, y=0.45, size=10, color="black")
p_corals_bottom
# Side
colnames(corals.2021_wide)
meancorals.side <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Side),
mean=mean(Side),
se=std.error(Side))
p_corals_side <- ggplot(meancorals.side, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("d) Side")+
scale_colour_hue(h = c(180, 300))
p_corals_side
test <- ggarrange(p_corals_top,
p_corals_side,
p_corals_bottom)
test
p_coral <- ggarrange(p_corals_overall, test,
ncol=2, common.legend=TRUE,
widths=c(2,3))
p_coral
ggsave(p_coral, file="../figures/coral-means.png",
height=5, width=10)
save(p_coral, file="../data/created-data/coral-means.RData")
p_corals_overall <- ggplot(meancorals.overall, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="Coral Recruitment (+/- se)", x="") +
ggtitle("a) Overall")+
scale_colour_hue(h = c(180, 300))
p_corals_overall
# Overall
colnames(corals.2021_wide)
meancorals.overall <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(All.Corals),
mean=mean(All.Corals),
se=std.error(All.Corals))
p_corals_overall <- ggplot(meancorals.overall, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="Coral Recruitment (+/- se)", x="") +
ggtitle("a) Overall")+
scale_colour_hue(h = c(180, 300))
p_corals_overall
# Top
colnames(corals.2021_wide)
meancorals.top <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Top),
mean=mean(Top),
se=std.error(Top))
p_corals_top <- ggplot(meancorals.top, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("b) Top")+
scale_colour_hue(h = c(180, 300)) +
geom_text(label="*", x=3.2, y=0.6, size=10, color="black")
p_corals_top
# Bottom
colnames(corals.2021_wide)
meancorals.bottom <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Bottom),
mean=mean(Bottom),
se=std.error(Bottom))
p_corals_bottom <- ggplot(meancorals.bottom, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("c) Bottom")+
scale_colour_hue(h = c(180, 300)) +
geom_text(label="*", x=3.2, y=0.45, size=10, color="black")
p_corals_bottom
# Side
colnames(corals.2021_wide)
meancorals.side <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Side),
mean=mean(Side),
se=std.error(Side))
p_corals_side <- ggplot(meancorals.side, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("d) Side")+
scale_colour_hue(h = c(180, 300))
p_corals_side
test <- ggarrange(p_corals_top,
p_corals_side,
p_corals_bottom)
test
p_coral <- ggarrange(p_corals_overall, test,
ncol=2, common.legend=TRUE,
widths=c(2,3))
p_coral
ggsave(p_coral, file="../figures/coral-means.png",
height=5, width=10)
save(p_coral, file="../data/created-data/coral-means.RData")
# Overall
colnames(corals.2021_wide)
meancorals.overall <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(All.Corals),
mean=mean(All.Corals),
se=std.error(All.Corals))
p_corals_overall <- ggplot(meancorals.overall, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="Coral Recruitment (+/- SE)", x="") +
ggtitle("a) Overall")+
scale_colour_hue(h = c(180, 300))
p_corals_overall
# Top
colnames(corals.2021_wide)
meancorals.top <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Top),
mean=mean(Top),
se=std.error(Top))
p_corals_top <- ggplot(meancorals.top, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("b) Top")+
scale_colour_hue(h = c(180, 300)) +
geom_text(label="*", x=3.2, y=0.6, size=10, color="black")
p_corals_top
# Bottom
colnames(corals.2021_wide)
meancorals.bottom <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Bottom),
mean=mean(Bottom),
se=std.error(Bottom))
p_corals_bottom <- ggplot(meancorals.bottom, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("c) Bottom")+
scale_colour_hue(h = c(180, 300)) +
geom_text(label="*", x=3.2, y=0.45, size=10, color="black")
p_corals_bottom
# Side
colnames(corals.2021_wide)
meancorals.side <- corals.2021_wide %>%
group_by(Treatment) %>%
summarise(sum= sum(Side),
mean=mean(Side),
se=std.error(Side))
p_corals_side <- ggplot(meancorals.side, aes(x=Treatment, y=mean, col=Treatment)) +
geom_pointrange(size=1, aes(ymin=mean-se, ymax= mean+se)) +
theme_pubr(base_size=16) +
theme(axis.text.x = element_blank(),
legend.position="none") +
labs(y="", x="") +
ggtitle("d) Side")+
scale_colour_hue(h = c(180, 300))
p_corals_side
test <- ggarrange(p_corals_top,
p_corals_side,
p_corals_bottom)
test
p_coral <- ggarrange(p_corals_overall, test,
ncol=2, common.legend=TRUE,
widths=c(2,3))
p_coral
ggsave(p_coral, file="../figures/coral-means.png",
height=5, width=10)
save(p_coral, file="../data/created-data/coral-means.RData")
